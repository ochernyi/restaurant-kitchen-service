{% extends "base.html" %}

{% block content %}
  <div class="p-6">
  <h1>
    Dish: {{ dish.name }}
    <a style="color: red"
      href="{% url 'kitchen:dish-delete' pk=dish.id %}">
      Delete
    </a>
  </h1>

  <p><strong>Description:</strong> {{ dish.description }}</p>
  <p><strong>Price:</strong> {{ dish.price }}</p>
  <p><strong>Dish type:</strong> {{ dish.dish_type }}</p>

  <a class="fs-3 fw-bold" style="color: blue" href="{% url 'kitchen:dish-update' pk=dish.id %}">
    Update
  </a>
    <hr>
  <div class="ml-3">
    <h4>users:</h4>
    {% if dish in user.dishes.all %}
      <a href="{% url 'kitchen:toggle-dish-assign' pk=dish.id %}" class="btn btn-danger link-to-page">
        Delete me from this dish
      </a>
      {% else %}
      <a href="{% url 'kitchen:toggle-dish-assign' pk=dish.id %}" class="btn btn-success link-to-page">
        Assign me from this dish
      </a>
    {% endif %}

    {% for user in dish.users.all %}
        <hr>
        <p><strong>Name:</strong> {{ user }}</p>

    {% empty %}
      <p>No users!</p>
    {% endfor %}
  </div>
  </div>

{% endblock %}
